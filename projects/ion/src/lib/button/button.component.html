<button
  [attr.data-testid]="'ion-button-' + label"
  [disabled]="disabled"
  [ngClass]="
    'ion-btn ion-btn--' +
    type +
    ' ' +
    'ion-btn--' +
    size +
    ' ' +
    'ion-btn--' +
    shape
  "
  [class.ion-btn--danger]="!disabled && danger"
  [class.ion-btn--inverter]="icon && icon.type && icon.rightPosition"
  [class.ion-btn--loading]="!disabled && loading"
  (click)="handleButtonClick()"
  (pointerdown)="pressAnimation()"
  (pointerup)="unpressAnimation()"
  (pointerleave)="unpressAnimation()"
  #ionButton>
  @if (!disabled && loading) {
    <span class="ion-btn__loading-spinner"></span>
  } @else if (icon && icon.type) {
    <ion-icon [type]="icon.type"></ion-icon>
  }

  @if (shape === 'normal') {
    <span>{{ label }}</span>
  }
</button>
